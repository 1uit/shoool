<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>å­¦æ ¡æ€§ä»·æ¯”è½¬æ¢å™¨</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 1em; max-width: 480px; margin: auto; }
    label, input, select { display: block; margin-bottom: 1em; width: 100%; }
    button { padding: 0.5em; width: 100%; background: #28a745; color: white; border: none; font-size: 1em; }
    .result { margin-top: 1em; font-weight: bold; white-space: pre-line; }
    .hidden { display: none; }
  </style>
</head>
<body>
  <h1>å­¦æ ¡æ€§ä»·æ¯”è½¬æ¢å™¨</h1>

  <label>å­¦æ ¡åç§° <input id="schoolName" placeholder="è¯·è¾“å…¥å­¦æ ¡åç§°" /></label>
  <label>å­¦æ ¡ç±»å‹
    <select id="schoolType">
      <option>å°å­¦</option>
      <option>åˆä¸­</option>
      <option>é«˜ä¸­</option>
      <option>ä¸­èŒ</option>
      <option>å¤§ä¸“</option>
      <option>å¤§å­¦</option>
    </select>
  </label>
  <label>æ˜¯å¦ä½å®¿
    <select id="boarding" onchange="toggleDormitoryInput()">
      <option value="no">å¦</option>
      <option value="yes">æ˜¯</option>
    </select>
  </label>
  <div id="commuteWrapper">
    <label>é€šå‹¤æ—¶é—´ï¼ˆå•ä½ï¼šæ¯å¤©æˆ–æ¯å‘¨ï¼‰
      <input id="commute" type="number" step="0.1" placeholder="å¡«å†™é€šå‹¤æ—¶é—´" />
    </label>
  </div>
  <div id="dormScoreWrapper" class="hidden">
    <label>å®¿èˆç¯å¢ƒè¯„åˆ†ï¼ˆ1-10ï¼‰
      <input id="dormScore" type="number" min="1" max="10" />
    </label>
  </div>
  <label>å­¦è´¹ï¼ˆå…ƒï¼‰ <input id="fee" type="number" placeholder="å­¦è´¹" /></label>
  <label>æ•´ä½“è¯„åˆ†ï¼ˆ1-10ï¼‰ <input id="score" type="number" min="1" max="10" /></label>

  <label>å­¦æ ¡é¢†å¯¼è¯„ä»·
    <select id="leadership">
      <option>å–„è§£äººæ„</option>
      <option>å¾®å¾®ä¸¥å‰</option>
      <option>ä¸€ç¾¤æ‰«é©¬çš„</option>
    </select>
  </label>

  <label>åŒå­¦ç¯å¢ƒè¯„ä»·
    <select id="students">
      <option>ç§äº¤ç”šå¥½</option>
      <option>å’Œå’Œç¦ç¦</option>
      <option>èæ°´ç›¸é€¢</option>
      <option>ä¸€ç¾¤å‚»é€¼</option>
    </select>
  </label>

  <button onclick="calculate()">è®¡ç®—æ€§ä»·æ¯”</button>

  <div class="result" id="result"></div>

  <script>
    function toggleDormitoryInput() {
      const boarding = document.getElementById('boarding').value;
      document.getElementById('dormScoreWrapper').classList.toggle('hidden', boarding !== 'yes');
    }

    function getComment(score) {
      if (score > 1.2) {
        const comments = [
          "è¿™æ€§ä»·æ¯”å ªæ¯”æ‰“è½¦è¿›æ¸…åŒ—ã€‚",
          "æ€§ä»·æ¯”çˆ†è¡¨ï¼Œå±äºèŠ±å°é’±ä¸Šå¤©å ‚ã€‚",
          "åˆ«è¯´äº†ï¼Œæ±‚ä½ æŠ¥åè¿™å­¦æ ¡ï¼",
          "ä½ æ˜¯å­¦æœ¯ç•Œçš„å°æœºçµé¬¼ï¼"
        ];
        return comments[Math.floor(Math.random() * comments.length)];
      } else if (score > 0.8) {
        const comments = [
          "è¿˜è¡Œï¼Œè‡³å°‘ä¸ä¼šèµ”æœ¬ã€‚",
          "ä¸Šä¸ä¸Šçœ‹ç¼˜åˆ†ï¼Œä½†ä¹Ÿä¸è‡³äºè¸©é›·ã€‚",
          "å±äºâ€œå¯ä»¥å‡‘åˆâ€é‚£æŒ‚ã€‚",
          "æ€§ä»·æ¯”å¹³å¹³æ— å¥‡ï¼Œåƒå¹³è¡Œå››è¾¹å½¢ã€‚"
        ];
        return comments[Math.floor(Math.random() * comments.length)];
      } else if (score > 0.5) {
        const comments = [
          "ä½ ä¸Šè¿™å­¦æ ¡å¯èƒ½æ¯”æ‹¼å¤šå¤šä¹°ä¼šå‘˜è¿˜ä¸å€¼ã€‚",
          "å»ºè®®å†çœ‹çœ‹ï¼Œåˆ«ä¸€æ—¶å†²åŠ¨ã€‚",
          "ä½ è¿™æ˜¯â€œèŠ±é’±ä¸Šå­¦è¿˜è¦è‡ªå·±æ‰“æ°´é“ºåºŠâ€å¥—é¤ã€‚",
          "å¦‚æœæ¢¦æƒ³æ˜¯å—å¢™ï¼Œé‚£ä½ è¿™æ˜¯åœ¨é£æ‰‘ã€‚"
        ];
        return comments[Math.floor(Math.random() * comments.length)];
      } else if (score > 0.3) {
        const comments = [
          "ä½ è¯»è¿™ä¸ªä¸å¦‚åœ¨å®¶å…»çŒªã€‚",
          "åœ¨è¿™å­¦æ ¡ï¼Œæˆé•¿çš„ä¸æ˜¯ä½ ï¼Œæ˜¯å¿ƒæ€ã€‚",
          "é€€å­¦æ˜¯ç§è‰ºæœ¯ï¼Œè¿™å­¦æ ¡æ˜¯ä½œå“ã€‚",
          "ä½ é€‰çš„æ˜¯å­¦æ ¡ï¼Œè¿˜æ˜¯ç°å®ç‰ˆç›‘ç‹±ä½“éªŒï¼Ÿ"
        ];
        return comments[Math.floor(Math.random() * comments.length)];
      } else {
        const comments = [
          "çŒ«çŒ«çœ‹äº†éƒ½æ‘‡å¤´ã€‚",
          "å»ºè®®ä½ é€€å­¦å»ä¿®ä»™ï¼Œæ€§ä»·æ¯”æ›´é«˜ã€‚",
          "ä¸Šè¿™æ‰€å­¦æ ¡å’Œæµªè´¹äººç”Ÿå‡ ä¹ç­‰å·ã€‚",
          "è¯»å®ƒä¸å¦‚è¯»åœ°é“çº¿è·¯å›¾ã€‚"
        ];
        return comments[Math.floor(Math.random() * comments.length)];
      }
    }

    function calculate() {
      const name = document.getElementById('schoolName').value.trim();
      const type = document.getElementById('schoolType').value;
      const boarding = document.getElementById('boarding').value;
      const commute = parseFloat(document.getElementById('commute').value);
      const dormScore = parseFloat(document.getElementById('dormScore').value);
      const fee = parseFloat(document.getElementById('fee').value);
      const score = parseFloat(document.getElementById('score').value);
      const leadership = document.getElementById('leadership').value;
      const students = document.getElementById('students').value;

      if (!name || isNaN(fee) || isNaN(commute) || isNaN(score)) {
        alert('è¯·å®Œæ•´å¡«å†™æ‰€æœ‰å¿…å¡«é¡¹');
        return;
      }

      let commuteFactor = boarding === 'yes' ? commute / 7 : commute;
      let base = fee + commuteFactor * 100;

      if (boarding === 'yes' && !isNaN(dormScore)) {
        base -= dormScore * 20;
      }

      const value = (score * 10) / base;

      let resultText = `å­¦æ ¡ç±»å‹ï¼š${type}
æ˜¯å¦ä½å®¿ï¼š${boarding === 'yes' ? 'æ˜¯' : 'å¦'}
é¢†å¯¼è¯„ä»·ï¼š${leadership}
åŒå­¦ç¯å¢ƒï¼š${students}
æ€§ä»·æ¯”å¾—åˆ†ï¼š${value.toFixed(2)}`;

      if (name.includes('è¡¢å·ç¬¬äºŒä¸­ä¸“')) {
        resultText += '\nğŸ¥š æ¥ä¹Œæˆ¿å±±è¯»ä¹¦å’Œåç‰¢æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚';
      }

      resultText += `\n\nç‚¹è¯„ï¼š${getComment(value)}`;
      document.getElementById('result').innerText = resultText;
    }
  </script>
</body>
</html>